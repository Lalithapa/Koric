<!--authorised-retailers.liquid-->
<section id="retailers-{{ section.id }}" class="w-full" style="background-color: {{ section.settings.bg | default: '#F7F5F2' }}">
  <div class="mx-auto section section--page-width   lg:py-[100px] py-[60px]">

    
    <div
      class="  lg:py-[60px] py-[30px]"
      style="
        border-radius: {{ section.settings.panel_radius | default: 10 }}px;
        border: {{ section.settings.panel_border_width | default: 1 }}px solid {{ section.settings.panel_border_color | default: '#EEEAE4' }};
        background: transparent;
      "
    >
      <div class="text-center lg:mb-[60px]  mb-[30px] mx-auto">
        {% if section.settings.kicker != blank %}
          <div class="text-[12px] tracking-[0.18em] font-normal text-[#2A5072]!">
            {{ section.settings.kicker | upcase }}
          </div>
        {% endif %}
        {% if section.settings.heading != blank %}
          <h2 class="mt-1 lg:text-[38px]! text-[24px]! font-medium! leading-normal text-[#2A5072]!">
            {{ section.settings.heading }}
          </h2>
        {% endif %}
      </div>
      <style>
        #retailers-{{ section.id }} {
          --logo-w-m: {{ section.settings.logo_width_mobile | default: 150 }}px;
          --logo-w-d: {{ section.settings.logo_width_desktop | default: 200 }}px;
          --img-h-m: {{ section.settings.img_max_h_mobile | default: 48 }}px;
          --img-h-d: {{ section.settings.img_max_h_desktop | default: 56 }}px;
        }
        #retailers-{{ section.id }} .logo-tile { width: var(--logo-w-m); }
        #retailers-{{ section.id }} .logo-img { max-height: var(--img-h-m); }
        @media (min-width: 768px){
          #retailers-{{ section.id }} .logo-tile { width: var(--logo-w-d); }
          #retailers-{{ section.id }} .logo-img { max-height: var(--img-h-d); }
        }
      </style>

      <!-- Logos (centered row, wraps) -->
      <div class="mt-8 flex flex-wrap justify-center gap-[22px] md:gap-6 lg:gap-20! ">
        {% for block in section.blocks %}
          {% assign b = block.settings %}
          {% if b.image != blank %}
            <div class="logo-tile">
              {% if b.link != blank %}
                <a href="{{ b.link }}" class="group block" target="{{ section.settings.link_target }}" rel="{% if section.settings.link_target == '_blank' %}noopener noreferrer{% endif %}">
              {% endif %}

                  <div class=" flex items-center justify-center">
                    <img
                      src="{{ b.image | image_url: width: 600 }}"
                      alt="{{ b.alt | default: b.title | escape }}"
                      width=""
                      height=""
                      class="logo-img object-contain w-full h-[25px] lg:h-[45px]"
                      loading="lazy">
                  </div>
                {% if b.link != blank %}</a>{% endif %}
            </div>
          {% endif %}
        {% endfor %}
      </div>

    </div>
  </div>
</section>

{% schema %}
{
  "name": "Authorised Retailers",
  "settings": [
    { "type": "text", "id": "kicker", "label": "Kicker", "default": "Authorised retailers" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "Find us at your go-to stores" },

    { "type": "color", "id": "bg", "label": "Section background", "default": "#F7F5F2" },

    { "type": "header", "content": "Panel border" },
    { "type": "range", "id": "panel_radius", "label": "Panel border radius (px)", "min": 0, "max": 32, "step": 1, "default": 10 },
    { "type": "range", "id": "panel_border_width", "label": "Panel border width (px)", "min": 0, "max": 6, "step": 1, "default": 1 },
    { "type": "color", "id": "panel_border_color", "label": "Panel border color", "default": "#EEEAE4" },

     { "type": "select", "id": "link_target", "label": "Logo link target", "default": "_blank",
      "options": [
        { "value": "_self", "label": "Open in same tab" },
        { "value": "_blank", "label": "Open in new tab" }
      ]
    }
  ],
  "blocks": [
    {
      "type": "logo",
      "name": "Retailer logo",
      "settings": [
        { "type": "text", "id": "title", "label": "Name (for reference)", "default": "Nykaa" },
        { "type": "image_picker", "id": "image", "label": "Logo image" },
        { "type": "text", "id": "alt", "label": "Alt text", "default": "Nykaa" },
        { "type": "url", "id": "link", "label": "Link URL" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Authorised Retailers",
      "category": "Image",
      "blocks": [{ "type": "logo" }, { "type": "logo" }, { "type": "logo" }, { "type": "logo" }]
    }
  ]
}
{% endschema %}
